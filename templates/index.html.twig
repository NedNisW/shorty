{% extends 'layout/base_layout.html.twig' %}

{% block content %}
    <div class="container short-url-container">
        <div class="row justify-content-center mx-0">
            <div class="col-md-10 d-flex justify-content-center">
                <div class="new-link-form px-2 px-md-5 py-3 w-100">
                    <form name="new-link" method="post" action="/new" class="row mx-0">
                        <div class="form-floating col-xs-12 col-md-9 px-0">
                            <input type="url" required name="long" placeholder="zu verkÃ¼rzende URL"
                                   class="form-control target-url-input">
                            <label for="long" class="ps-3">Ziel Adresse:</label>
                        </div>
                        <div class="col-xs-12 col-md-3 px-0 mt-2 mt-md-0">
                            <button type="submit" class="w-100 h-100 btn btn-primary new-url-button">Absenden</button>
                        </div>
                    </form>

                    <div class="row mx-0 mt-4 mb-3 py-1 short-alert-row d-none">
                        <div class="short-link-box short-link col-xs-12 col-md-11 px-0 my-0 fs-6 ps-2 text-break py-2"></div>
                        <div class="col-md-1 col-xs-12 px-0 mt-2 mt-md-0">
                            <button class="btn btn-secondary short-alert-copy-btn w-100 h-100"
                                    id="shortUrlCopiedToastBtn"
                                    data-clipboard-target=".short-link-box"><span class="fas fa-clipboard"></span>
                            </button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-4">
                {% if short_link is defined %}
                    <a href="{{ short_link }}">{{ short_link }}</a>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 5">
        <div id="shortUrlCopiedToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">Kurzlink kopiert</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Der Kurzlink wurde in die zwischenablage kopiert.
            </div>
        </div>
    </div>
{% endblock %}